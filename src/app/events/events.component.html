<div class="row">
  <div class="col-xs-12">
    <br/>
    <h3>
      Edit Events
      <button
        class="btn btn-primary pull-right"
        (click)="addEvent()">
        Create new Event
      </button>
      <div class="clearfix"></div>
      <button class="btn btn-success pull-right"
              (click)="onSaveEvents()">
              Save Events</button>
      </h3>

    <table class="table table-bordered">

      <thead>
        <tr>
          <th>Employee</th>
          <th>Description</th>
          <th>Primary color</th>
          <th>Secondary color</th>
          <th>Begins on</th>
          <th>Ends on</th>
          <th>Remove</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let event of events; let index = index">
          <td>
            <select [(ngModel)]="event.employee" (change)="refresh.next()">
              <option *ngFor="let employee of employees; let indx = index" [value]="employee.uuid">
                {{ employee.name }} {{ employee.firstLastName }}
              </option>
            </select>
          </td>
          <td>
            <input
              type="text"
              class="form-control"
              [title]="event.title"
              [(ngModel)]="event.title"
              (keyup)="refresh.next()">
          </td>
          <td>
            <input
              type="color"
              [(ngModel)]="event.color.primary"
              (change)="refresh.next()">
          </td>
          <td>
            <input
              type="color"
              [(ngModel)]="event.color.secondary"
              (change)="refresh.next()">
          </td>
          <td>
            <calendar-utils-date-time-picker
              [(ngModel)]="event.start"
              (ngModelChange)="refresh.next()"
              placeholder="Not set">
            </calendar-utils-date-time-picker>
          </td>
          <td>
            <calendar-utils-date-time-picker
              [(ngModel)]="event.end"
              (ngModelChange)="refresh.next()"
              placeholder="Not set">
            </calendar-utils-date-time-picker>
          </td>
          <td>
            <button
              class="btn btn-danger"
              (click)="events.splice(index, 1); refresh.next()">
              Delete
            </button>
          </td>
        </tr>
      </tbody>

    </table>

  </div>
</div>
